[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Introducción",
    "section": "",
    "text": "Esta página contiene un resumen de las principales herramientas de R para el manejo de datos espaciales.\n\n\n\n Back to top"
  },
  {
    "objectID": "2_Operaciones_SF.html",
    "href": "2_Operaciones_SF.html",
    "title": "Operaciones SF",
    "section": "",
    "text": "Importacion de librerias\nlibrary(sf)\nlibrary(tidyverse)\nImportación de los archivos vectoriales en formato shapefile\npoligonos &lt;- read_sf('data/Poligonos.shp')\nlineas &lt;- read_sf('data/Lineas.shp')\npuntos &lt;- read_sf('data/Puntos.shp')",
    "crumbs": [
      "DATOS VECTORIALES",
      "Operaciones SF"
    ]
  },
  {
    "objectID": "2_Operaciones_SF.html#extracción-de-información",
    "href": "2_Operaciones_SF.html#extracción-de-información",
    "title": "Operaciones SF",
    "section": "1. Extracción de información",
    "text": "1. Extracción de información\n\na. Sistema de Coordenadas de Referencia (CRS)\nST_CRS\nDevuelve un objeto tipo CRS con información del sistema de coordendas del objeto SF.\n\nst_crs(poligonos)\n\nCoordinate Reference System:\n  User input: WGS 84 / UTM zone 18S \n  wkt:\nPROJCRS[\"WGS 84 / UTM zone 18S\",\n    BASEGEOGCRS[\"WGS 84\",\n        DATUM[\"World Geodetic System 1984\",\n            ELLIPSOID[\"WGS 84\",6378137,298.257223563,\n                LENGTHUNIT[\"metre\",1]]],\n        PRIMEM[\"Greenwich\",0,\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n        ID[\"EPSG\",4326]],\n    CONVERSION[\"UTM zone 18S\",\n        METHOD[\"Transverse Mercator\",\n            ID[\"EPSG\",9807]],\n        PARAMETER[\"Latitude of natural origin\",0,\n            ANGLEUNIT[\"Degree\",0.0174532925199433],\n            ID[\"EPSG\",8801]],\n        PARAMETER[\"Longitude of natural origin\",-75,\n            ANGLEUNIT[\"Degree\",0.0174532925199433],\n            ID[\"EPSG\",8802]],\n        PARAMETER[\"Scale factor at natural origin\",0.9996,\n            SCALEUNIT[\"unity\",1],\n            ID[\"EPSG\",8805]],\n        PARAMETER[\"False easting\",500000,\n            LENGTHUNIT[\"metre\",1],\n            ID[\"EPSG\",8806]],\n        PARAMETER[\"False northing\",10000000,\n            LENGTHUNIT[\"metre\",1],\n            ID[\"EPSG\",8807]]],\n    CS[Cartesian,2],\n        AXIS[\"(E)\",east,\n            ORDER[1],\n            LENGTHUNIT[\"metre\",1]],\n        AXIS[\"(N)\",north,\n            ORDER[2],\n            LENGTHUNIT[\"metre\",1]],\n    ID[\"EPSG\",32718]]\n\n\n\nclass(st_crs(poligonos))\n\n[1] \"crs\"\n\n\nNombre del Sistema de Referencia de Coordendas.\n\nst_crs(poligonos)$input\n\n[1] \"WGS 84 / UTM zone 18S\"\n\n\nCódigo EPSG.\n\nst_crs(poligonos)$epsg\n\n[1] 32718\n\n\nUnidad del sistema de coordenadas.\n\nst_crs(poligonos)$units_gdal\n\n[1] \"metre\"\n\n\nInformacion de la proyección.\n\nst_crs(poligonos)$proj4string\n\n[1] \"+proj=utm +zone=18 +south +datum=WGS84 +units=m +no_defs\"\n\n\nInformacion en formato WKT (Well-Known Text).\n\nst_crs(poligonos)$wkt\n\n[1] \"PROJCRS[\\\"WGS 84 / UTM zone 18S\\\",\\n    BASEGEOGCRS[\\\"WGS 84\\\",\\n        DATUM[\\\"World Geodetic System 1984\\\",\\n            ELLIPSOID[\\\"WGS 84\\\",6378137,298.257223563,\\n                LENGTHUNIT[\\\"metre\\\",1]]],\\n        PRIMEM[\\\"Greenwich\\\",0,\\n            ANGLEUNIT[\\\"degree\\\",0.0174532925199433]],\\n        ID[\\\"EPSG\\\",4326]],\\n    CONVERSION[\\\"UTM zone 18S\\\",\\n        METHOD[\\\"Transverse Mercator\\\",\\n            ID[\\\"EPSG\\\",9807]],\\n        PARAMETER[\\\"Latitude of natural origin\\\",0,\\n            ANGLEUNIT[\\\"Degree\\\",0.0174532925199433],\\n            ID[\\\"EPSG\\\",8801]],\\n        PARAMETER[\\\"Longitude of natural origin\\\",-75,\\n            ANGLEUNIT[\\\"Degree\\\",0.0174532925199433],\\n            ID[\\\"EPSG\\\",8802]],\\n        PARAMETER[\\\"Scale factor at natural origin\\\",0.9996,\\n            SCALEUNIT[\\\"unity\\\",1],\\n            ID[\\\"EPSG\\\",8805]],\\n        PARAMETER[\\\"False easting\\\",500000,\\n            LENGTHUNIT[\\\"metre\\\",1],\\n            ID[\\\"EPSG\\\",8806]],\\n        PARAMETER[\\\"False northing\\\",10000000,\\n            LENGTHUNIT[\\\"metre\\\",1],\\n            ID[\\\"EPSG\\\",8807]]],\\n    CS[Cartesian,2],\\n        AXIS[\\\"(E)\\\",east,\\n            ORDER[1],\\n            LENGTHUNIT[\\\"metre\\\",1]],\\n        AXIS[\\\"(N)\\\",north,\\n            ORDER[2],\\n            LENGTHUNIT[\\\"metre\\\",1]],\\n    ID[\\\"EPSG\\\",32718]]\"\n\n\n\n\nb. Coordenadas\nST_COORDINATES\nDevuelve una matriz con las coordendas (X e Y) de cada uno de los vértices de las geometrías.\n\nst_coordinates(poligonos)\n\n             X       Y L1 L2\n [1,] 677159.6 8470790  1  1\n [2,] 678593.3 8473273  1  1\n [3,] 680027.0 8470790  1  1\n [4,] 677159.6 8470790  1  1\n [5,] 674144.9 8471479  1  2\n [6,] 676144.9 8471479  1  2\n [7,] 676144.9 8469479  1  2\n [8,] 674144.9 8469479  1  2\n [9,] 674144.9 8471479  1  2\n[10,] 674968.0 8469981  1  3\n[11,] 679647.6 8469981  1  3\n[12,] 679647.6 8468463  1  3\n[13,] 674968.0 8468463  1  3\n[14,] 674968.0 8469981  1  3\n[15,] 680942.4 8469776  1  4\n[16,] 680942.4 8471314  1  4\n[17,] 682274.1 8472083  1  4\n[18,] 683605.9 8471314  1  4\n[19,] 683605.9 8469776  1  4\n[20,] 682274.1 8469007  1  4\n[21,] 680942.4 8469776  1  4\n\n\n\nggplot() +\n  geom_sf(data = poligonos) +\n  geom_point(data = st_coordinates(poligonos),\n             aes(x = X, y = Y),\n             size = 2,\n             color = \"red\") +\n  theme(axis.title = element_blank())",
    "crumbs": [
      "DATOS VECTORIALES",
      "Operaciones SF"
    ]
  },
  {
    "objectID": "2_Operaciones_SF.html#operaciones-con-geometrías",
    "href": "2_Operaciones_SF.html#operaciones-con-geometrías",
    "title": "Operaciones SF",
    "section": "2. Operaciones con geometrías",
    "text": "2. Operaciones con geometrías\n\na. Centroide\nST_CENTROID\nGenera puntos que representan el centro geométrico.\n\nst_coordinates(st_centroid(poligonos))\n\n            X       Y\n[1,] 678593.3 8471618\n[2,] 675144.9 8470479\n[3,] 677307.8 8469222\n[4,] 682274.1 8470545\n\n\n\nggplot() +\n  geom_sf(data = poligonos) +\n  geom_point(data = st_coordinates(st_centroid(poligonos)),\n             aes(x = X, y = Y),\n             size = 2,\n             color = \"red\") +\n  theme(axis.title = element_blank())\n\n\n\n\n\n\n\n\n\n\nb. Buffer\nST_BUFFER\nGenera un polígono que envuelve a la geometría seleccionada a una distancia (dist) determinada.\n\npoligonos_buffer &lt;- st_buffer(poligonos, dist = 200)\n\n\nggplot() +\n  geom_sf(data = poligonos) +\n  geom_sf(data = poligonos_buffer, color = \"red\", alpha = 0.5, lwd = 1) +\n  theme(axis.title = element_blank())\n\n\n\n\n\n\n\n\n\n\nc. Contorno\nST_BOUNDARY\nGenera una línea cerrada que contiene a la geometria seleccionada.\n\nst_boundary(poligonos)$geometry\n\nGeometry set for 4 features \nGeometry type: LINESTRING\nDimension:     XY\nBounding box:  xmin: 674144.9 ymin: 8468463 xmax: 683605.9 ymax: 8473273\nProjected CRS: WGS 84 / UTM zone 18S\n\n\n\nggplot() +\n  geom_sf(data = poligonos, aes(fill = Objeto)) +\n  geom_sf(data = st_boundary(poligonos), color = \"red\", lwd = 1) +\n  theme(axis.title = element_blank())\n\n\n\n\n\n\n\n\n\n\nd. Intersección\nST_INTERSECTION\nSe obtiene un nuevo poligono resultado de la intersección de dos poligonos.\n\nst_intersection(poligonos[2,], poligonos[3,])\n\nSimple feature collection with 1 feature and 8 fields\nGeometry type: POLYGON\nDimension:     XY\nBounding box:  xmin: 674968 ymin: 8469479 xmax: 676144.9 ymax: 8469981\nProjected CRS: WGS 84 / UTM zone 18S\n# A tibble: 1 × 9\n     Id Objeto    Area Perimetro  Id.1 Objeto.1   Area.1 Perimetro.1\n* &lt;dbl&gt; &lt;chr&gt;    &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt;       &lt;dbl&gt;\n1     2 Cuadrado     4         8     3 Rectangulo   7.10        12.4\n# ℹ 1 more variable: geometry &lt;POLYGON [m]&gt;\n\n\n\nggplot() +\n  geom_sf(data = poligonos[2,]) +\n  geom_sf(data = poligonos[3,]) +\n  geom_sf(data = st_intersection(poligonos[2,], poligonos[3,]), color = \"red\", lwd = 1) +\n  theme(axis.title = element_blank())\n\n\n\n\n\n\n\n\n\n\ne. Diferencia\nST_DIFFERENCE\nSe obtiene un nuevo poligono resultado de la diferencia del primero menos el segundo.\n\nst_difference(poligonos[2,], poligonos[3,])\n\nSimple feature collection with 1 feature and 8 fields\nGeometry type: POLYGON\nDimension:     XY\nBounding box:  xmin: 674144.9 ymin: 8469479 xmax: 676144.9 ymax: 8471479\nProjected CRS: WGS 84 / UTM zone 18S\n# A tibble: 1 × 9\n     Id Objeto    Area Perimetro  Id.1 Objeto.1   Area.1 Perimetro.1\n* &lt;dbl&gt; &lt;chr&gt;    &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt;       &lt;dbl&gt;\n1     2 Cuadrado     4         8     3 Rectangulo   7.10        12.4\n# ℹ 1 more variable: geometry &lt;POLYGON [m]&gt;\n\n\n\nggplot() +\n  geom_sf(data = poligonos[2,]) +\n  geom_sf(data = poligonos[3,]) +\n  geom_sf(data = st_difference(poligonos[2,], poligonos[3,]), color = \"red\", lwd = 1) +\n  geom_sf(data = st_difference(poligonos[3,], poligonos[2,]), color = \"blue\", lwd = 1) +\n  theme(axis.title = element_blank())\n\n\n\n\n\n\n\n\n\n\nf. Unión\nST_UNION\nSe obtiene un nuevo poligono resultado de la unión del primero y el segundo.\n\nst_union(poligonos[2,], poligonos[3,])\n\nSimple feature collection with 1 feature and 8 fields\nGeometry type: POLYGON\nDimension:     XY\nBounding box:  xmin: 674144.9 ymin: 8468463 xmax: 679647.6 ymax: 8471479\nProjected CRS: WGS 84 / UTM zone 18S\n# A tibble: 1 × 9\n     Id Objeto    Area Perimetro  Id.1 Objeto.1   Area.1 Perimetro.1\n* &lt;dbl&gt; &lt;chr&gt;    &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt;       &lt;dbl&gt;\n1     2 Cuadrado     4         8     3 Rectangulo   7.10        12.4\n# ℹ 1 more variable: geometry &lt;POLYGON [m]&gt;\n\n\n\nggplot() +\n  geom_sf(data = poligonos[2,]) +\n  geom_sf(data = poligonos[3,]) +\n  geom_sf(data = st_union(poligonos[2,], poligonos[3,]), color = \"red\", alpha = 0.5, lwd = 1) +\n  theme(axis.title = element_blank())\n\n\n\n\n\n\n\n\n\n\ng. Convex Hull\nST_CONVEX_HULL\nSe obtiene un polígono que envuelve a un conjunto de geometrías (puntos, lineas o poligonos)\n\nst_convex_hull(st_union(puntos))\n\nGeometry set for 1 feature \nGeometry type: POLYGON\nDimension:     XY\nBounding box:  xmin: 673391.5 ymin: 8469145 xmax: 682577.7 ymax: 8474406\nProjected CRS: WGS 84 / UTM zone 18S\n\n\n\nggplot() +\n  geom_sf(data = puntos, size = 3) +\n  geom_sf(data = st_convex_hull(st_union(puntos)), color = \"red\", alpha =0.5) +\n  theme(axis.title = element_blank())\n\n\n\n\n\n\n\n\n\n\nh. Grilla\nST_MAKE_GRID\nSe obtiene una grilla alrededor de la geometria.\n\ngrilla_cuadrada &lt;- st_make_grid(poligonos[1,], cellsize = 500, what = \"polygons\")\ngrilla_centroide &lt;- st_make_grid(poligonos[1,], cellsize = 500, what = \"centers\")\n\n\nclass(grilla_cuadrada)\n\n[1] \"sfc_POLYGON\" \"sfc\"        \n\nclass(grilla_centroide)\n\n[1] \"sfc_POINT\" \"sfc\"      \n\n\n\nggplot() +\n  geom_sf(data = poligonos[1,]) +\n  geom_sf(data = grilla_cuadrada, color = \"red\", alpha = 0.5) +\n  geom_sf(data = grilla_centroide, color = \"blue\", alpha = 0.5) +\n  theme(axis.title = element_blank())\n\n\n\n\n\n\n\n\nPara obtener la grilla alrededor de solamente el poligono, se puede usar la funcion de interseccion.\n\nggplot() +\n  geom_sf(data = poligonos[1,]) +\n  geom_sf(data = st_intersection(poligonos[1,], grilla_cuadrada), color = \"red\", alpha = 0.5) +\n  geom_sf(data = st_intersection(poligonos[1,], grilla_centroide), color = \"blue\", alpha = 0.5) +\n  theme(axis.title = element_blank())",
    "crumbs": [
      "DATOS VECTORIALES",
      "Operaciones SF"
    ]
  },
  {
    "objectID": "2_Operaciones_SF.html#medición-de-geometrías",
    "href": "2_Operaciones_SF.html#medición-de-geometrías",
    "title": "Operaciones SF",
    "section": "3. Medición de geometrías",
    "text": "3. Medición de geometrías\nLas geometrias importadas cuentan con dimensiones espaciales que pueden ser medidas.\n\nst_set_geometry(poligonos, NULL)\n\n# A tibble: 4 × 4\n     Id Objeto      Area Perimetro\n* &lt;dbl&gt; &lt;chr&gt;      &lt;dbl&gt;     &lt;dbl&gt;\n1     1 Triangulo   3.56      8.60\n2     2 Cuadrado    4         8   \n3     3 Rectangulo  7.10     12.4 \n4     4 Hexagono    6.14      9.23\n\n\n\nst_set_geometry(lineas, NULL)\n\n# A tibble: 4 × 3\n     Id Objeto  Longitud\n* &lt;dbl&gt; &lt;chr&gt;      &lt;dbl&gt;\n1     1 Linea 1     7.51\n2     2 Linea 2     5.46\n3     3 Linea 3     3.40\n4     4 Linea 4     7.49\n\n\n\na. Área\nST_AREA\nDevuelve el valor numérico (m²) del área de los polígonos.\n\nst_area(poligonos)\n\nUnits: [m^2]\n[1] 3560391 4000000 7102500 6143870\n\n\n\n\nb. Perímetro\nST_PERIMETER\nDevuelve el valor numérico (m) del perimetro de los poligonos.\n\nst_perimeter(poligonos)\n\nUnits: [m]\n[1]  8602.403  8000.000 12394.789  9226.698\n\n\n\n\nc. Longitud\nST_LENGTH\nDevuelve el valor numérico (m) de la longitud de las lineas.\n\nst_length(lineas)\n\nUnits: [m]\n[1] 7508.036 5456.344 3399.032 7492.293\n\n\n\n\nd. Distancia\nST_LENGTH\nDevuelve el valor numérico (m) de la distancia entre dos objetos.\n\n# Distancia entre \"Punto 1\" y \"Punto 2\"\nst_distance(puntos[1,], puntos[2,], by_element = TRUE)\n\n2329.183 [m]\n\n\n\n# Distancia entre \"Punto 1\" y \"Linea 1\"\nst_distance(puntos[1,], lineas[1,], by_element = TRUE)\n\n635.2162 [m]\n\n\n\n# Distancia entre todos los elementos de \"Puntos\" y \"Lineas\"\nst_distance(puntos, lineas)\n\nUnits: [m]\n           [,1]      [,2]     [,3]      [,4]\n [1,]  635.2162 2672.3569 4866.230 6324.9573\n [2,] 2019.6616  537.4906 3936.324 4741.0609\n [3,] 1318.9398 3957.8853 1631.515 3729.2899\n [4,] 2581.4680  798.0921 1718.414 2462.0679\n [5,] 2703.7406 3390.9894 7226.407 8188.8378\n [6,] 4703.5345  325.7519 2908.510 3698.8261\n [7,] 5272.0000 3668.4347 2251.968  716.6541\n [8,] 1371.7403 1873.0733 1787.458 2753.7596\n [9,] 3257.5187 1595.2698 5810.640 6563.1728\n[10,] 4000.2542 1286.7199 3651.692 4469.3941\n\n\n\nggplot() +\n  geom_sf(data = puntos, color = \"red\") + \n  geom_sf(data = lineas, color = \"blue\") +\n  geom_text(data = st_set_geometry(puntos, NULL),\n            aes(x = c(st_coordinates(puntos)[,1]),\n                y = c(st_coordinates(puntos)[,2])+250,\n                label = Objeto),\n            size = 2.5) +\n  geom_text(data = st_set_geometry(lineas, NULL),\n            aes(x = c(st_coordinates(st_centroid(lineas))[,1])-600,\n                y = c(st_coordinates(st_centroid(lineas))[,2]),\n                label = Objeto),\n            size = 2.5) +\n  theme(axis.title = element_blank())",
    "crumbs": [
      "DATOS VECTORIALES",
      "Operaciones SF"
    ]
  },
  {
    "objectID": "1_Libreria_SF.html",
    "href": "1_Libreria_SF.html",
    "title": "Libreria SF",
    "section": "",
    "text": "Importacion de librerías\n\nlibrary(sf)\nlibrary(tidyverse) \n\nImportación de los archivos vectoriales en formato shapefile\n\npoligonos &lt;- read_sf('data/Poligonos.shp')\nlineas &lt;- read_sf('data/Lineas.shp')\npuntos &lt;- read_sf('data/Puntos.shp')\n\nLos datos vectoriales importados son del tipo SF\n\nclass(poligonos)\n\n[1] \"sf\"         \"tbl_df\"     \"tbl\"        \"data.frame\"\n\nclass(lineas)\n\n[1] \"sf\"         \"tbl_df\"     \"tbl\"        \"data.frame\"\n\nclass(puntos)\n\n[1] \"sf\"         \"tbl_df\"     \"tbl\"        \"data.frame\"\n\n\n\n\n\npoligonos\n\nSimple feature collection with 4 features and 4 fields\nGeometry type: POLYGON\nDimension:     XY\nBounding box:  xmin: 674144.9 ymin: 8468463 xmax: 683605.9 ymax: 8473273\nProjected CRS: WGS 84 / UTM zone 18S\n# A tibble: 4 × 5\n     Id Objeto      Area Perimetro                                      geometry\n  &lt;dbl&gt; &lt;chr&gt;      &lt;dbl&gt;     &lt;dbl&gt;                                 &lt;POLYGON [m]&gt;\n1     1 Triangulo   3.56      8.60 ((677159.6 8470790, 678593.3 8473273, 680027…\n2     2 Cuadrado    4         8    ((674144.9 8471479, 676144.9 8471479, 676144…\n3     3 Rectangulo  7.10     12.4  ((674968 8469981, 679647.6 8469981, 679647.6…\n4     4 Hexagono    6.14      9.23 ((680942.4 8469776, 680942.4 8471314, 682274…\n\n\n\nplot(poligonos[\"Objeto\"])\n\n\n\n\n\n\n\n\n\n\n\n\nlineas\n\nSimple feature collection with 4 features and 3 fields\nGeometry type: LINESTRING\nDimension:     XY\nBounding box:  xmin: 672984.3 ymin: 8468543 xmax: 683554.9 ymax: 8475568\nProjected CRS: WGS 84 / UTM zone 18S\n# A tibble: 4 × 4\n     Id Objeto  Longitud                                                geometry\n  &lt;dbl&gt; &lt;chr&gt;      &lt;dbl&gt;                                        &lt;LINESTRING [m]&gt;\n1     1 Linea 1     7.51 (672984.3 8473006, 677316.8 8473006, 676303.6 8473591,…\n2     2 Linea 2     5.46      (676779.3 8470448, 680330 8470448, 680330 8468543)\n3     3 Linea 3     3.40                      (680786 8471947, 679086.5 8474891)\n4     4 Linea 4     7.49 (681242.1 8472631, 681242.1 8474064, 683554.9 8474064,…\n\n\n\nplot(lineas[\"Objeto\"], lwd = 3)\n\n\n\n\n\n\n\n\n\n\n\n\npuntos\n\nSimple feature collection with 10 features and 2 fields\nGeometry type: POINT\nDimension:     XY\nBounding box:  xmin: 673391.5 ymin: 8469145 xmax: 682577.7 ymax: 8474406\nProjected CRS: WGS 84 / UTM zone 18S\n# A tibble: 10 × 3\n      Id Objeto             geometry\n   &lt;dbl&gt; &lt;chr&gt;           &lt;POINT [m]&gt;\n 1     1 Punto 1  (674922.5 8472370)\n 2     2 Punto 2  (676795.6 8470986)\n 3     3 Punto 3  (677528.5 8474406)\n 4     4 Punto 4  (679206.1 8471247)\n 5     5 Punto 5  (673391.5 8470302)\n 6     6 Punto 6  (680004.2 8469145)\n 7     7 Punto 7  (682577.7 8473348)\n 8     8 Punto 8  (678505.8 8472322)\n 9     9 Punto 9    (675346 8469748)\n10    10 Punto 10 (678424.3 8469162)\n\n\n\nplot(puntos[\"Objeto\"], pch = 19)",
    "crumbs": [
      "DATOS VECTORIALES",
      "Libreria SF"
    ]
  },
  {
    "objectID": "1_Libreria_SF.html#importación",
    "href": "1_Libreria_SF.html#importación",
    "title": "Libreria SF",
    "section": "",
    "text": "Importacion de librerías\n\nlibrary(sf)\nlibrary(tidyverse) \n\nImportación de los archivos vectoriales en formato shapefile\n\npoligonos &lt;- read_sf('data/Poligonos.shp')\nlineas &lt;- read_sf('data/Lineas.shp')\npuntos &lt;- read_sf('data/Puntos.shp')\n\nLos datos vectoriales importados son del tipo SF\n\nclass(poligonos)\n\n[1] \"sf\"         \"tbl_df\"     \"tbl\"        \"data.frame\"\n\nclass(lineas)\n\n[1] \"sf\"         \"tbl_df\"     \"tbl\"        \"data.frame\"\n\nclass(puntos)\n\n[1] \"sf\"         \"tbl_df\"     \"tbl\"        \"data.frame\"\n\n\n\n\n\npoligonos\n\nSimple feature collection with 4 features and 4 fields\nGeometry type: POLYGON\nDimension:     XY\nBounding box:  xmin: 674144.9 ymin: 8468463 xmax: 683605.9 ymax: 8473273\nProjected CRS: WGS 84 / UTM zone 18S\n# A tibble: 4 × 5\n     Id Objeto      Area Perimetro                                      geometry\n  &lt;dbl&gt; &lt;chr&gt;      &lt;dbl&gt;     &lt;dbl&gt;                                 &lt;POLYGON [m]&gt;\n1     1 Triangulo   3.56      8.60 ((677159.6 8470790, 678593.3 8473273, 680027…\n2     2 Cuadrado    4         8    ((674144.9 8471479, 676144.9 8471479, 676144…\n3     3 Rectangulo  7.10     12.4  ((674968 8469981, 679647.6 8469981, 679647.6…\n4     4 Hexagono    6.14      9.23 ((680942.4 8469776, 680942.4 8471314, 682274…\n\n\n\nplot(poligonos[\"Objeto\"])\n\n\n\n\n\n\n\n\n\n\n\n\nlineas\n\nSimple feature collection with 4 features and 3 fields\nGeometry type: LINESTRING\nDimension:     XY\nBounding box:  xmin: 672984.3 ymin: 8468543 xmax: 683554.9 ymax: 8475568\nProjected CRS: WGS 84 / UTM zone 18S\n# A tibble: 4 × 4\n     Id Objeto  Longitud                                                geometry\n  &lt;dbl&gt; &lt;chr&gt;      &lt;dbl&gt;                                        &lt;LINESTRING [m]&gt;\n1     1 Linea 1     7.51 (672984.3 8473006, 677316.8 8473006, 676303.6 8473591,…\n2     2 Linea 2     5.46      (676779.3 8470448, 680330 8470448, 680330 8468543)\n3     3 Linea 3     3.40                      (680786 8471947, 679086.5 8474891)\n4     4 Linea 4     7.49 (681242.1 8472631, 681242.1 8474064, 683554.9 8474064,…\n\n\n\nplot(lineas[\"Objeto\"], lwd = 3)\n\n\n\n\n\n\n\n\n\n\n\n\npuntos\n\nSimple feature collection with 10 features and 2 fields\nGeometry type: POINT\nDimension:     XY\nBounding box:  xmin: 673391.5 ymin: 8469145 xmax: 682577.7 ymax: 8474406\nProjected CRS: WGS 84 / UTM zone 18S\n# A tibble: 10 × 3\n      Id Objeto             geometry\n   &lt;dbl&gt; &lt;chr&gt;           &lt;POINT [m]&gt;\n 1     1 Punto 1  (674922.5 8472370)\n 2     2 Punto 2  (676795.6 8470986)\n 3     3 Punto 3  (677528.5 8474406)\n 4     4 Punto 4  (679206.1 8471247)\n 5     5 Punto 5  (673391.5 8470302)\n 6     6 Punto 6  (680004.2 8469145)\n 7     7 Punto 7  (682577.7 8473348)\n 8     8 Punto 8  (678505.8 8472322)\n 9     9 Punto 9    (675346 8469748)\n10    10 Punto 10 (678424.3 8469162)\n\n\n\nplot(puntos[\"Objeto\"], pch = 19)",
    "crumbs": [
      "DATOS VECTORIALES",
      "Libreria SF"
    ]
  },
  {
    "objectID": "1_Libreria_SF.html#elementos",
    "href": "1_Libreria_SF.html#elementos",
    "title": "Libreria SF",
    "section": "2. Elementos",
    "text": "2. Elementos\nUn objeto SF esta comformado por los siguientes elementos:\n\nObjeto Dataframe\nObjeto SFC\n\nObjeto SFG\nObjeto CRS\n\n\n\n\n\n\n\n\na. Objeto Dataframe\nEl Dataframe representa la tabla de atributos del archivo shapefile.\nST_SET_GEOMETRY\n\ndf &lt;- st_set_geometry(poligonos, NULL)\ndf\n\n# A tibble: 4 × 4\n     Id Objeto      Area Perimetro\n* &lt;dbl&gt; &lt;chr&gt;      &lt;dbl&gt;     &lt;dbl&gt;\n1     1 Triangulo   3.56      8.60\n2     2 Cuadrado    4         8   \n3     3 Rectangulo  7.10     12.4 \n4     4 Hexagono    6.14      9.23\n\n\n\nclass(df)\n\n[1] \"tbl_df\"     \"tbl\"        \"data.frame\"\n\n\n\n\nb. Objeto SFC\nEl objeto SFC (Simple Feature Column) representa la geometría de un dato vectorial, el cual contiene las coordenadas de los vértices asi como su sistema de referencia (CRS).\nSe puede acceder a través de la funcion st_geometry(poligonos) o poligonos$geometry.\nST_GEOMETRY\n\ngeom &lt;- st_geometry(poligonos)\ngeom\n\nGeometry set for 4 features \nGeometry type: POLYGON\nDimension:     XY\nBounding box:  xmin: 674144.9 ymin: 8468463 xmax: 683605.9 ymax: 8473273\nProjected CRS: WGS 84 / UTM zone 18S\n\n\n\nclass(geom)\n\n[1] \"sfc_POLYGON\" \"sfc\"        \n\n\nLa información del objeto SFC esta estructurado de la siguiente manera:\n\n\n\n\n\n\n\nc. Objeto SFG\nEl objeto SFG (Simple Feature Geometry) representa la forma del tipo de geometria (puntos, lineas, poligonos) el cual esta formado por un conjunto de coordenadas.\nPor ejemplo, el segundo elemento del dato poligono es una geometría de forma cuadrada.\n\ngeom[[2]]\n\n\nclass(geom[[2]])\n\n[1] \"XY\"      \"POLYGON\" \"sfg\"    \n\n\n\nplot(geom[[2]])\n\n\n\n\n\n\n\n\nLas coordenadas del cuadrado son sus vértices que se encuentran ordenadas en una matriz en donde la primera columna es la coordenada X y la segunda la coordenada Y.\n\ngeom[[2]][[1]]\n\n         [,1]    [,2]\n[1,] 674144.9 8471479\n[2,] 676144.9 8471479\n[3,] 676144.9 8469479\n[4,] 674144.9 8469479\n[5,] 674144.9 8471479\n\n\n\nclass(geom[[2]][[1]])\n\n[1] \"matrix\" \"array\" \n\n\n\n\nd. Objeto CRS\nEl objeto CRS contiene el Sistema de Coordenadas de Referencia (CRS).\nST_CRS\n\nst_crs(geom)\n\nCoordinate Reference System:\n  User input: WGS 84 / UTM zone 18S \n  wkt:\nPROJCRS[\"WGS 84 / UTM zone 18S\",\n    BASEGEOGCRS[\"WGS 84\",\n        DATUM[\"World Geodetic System 1984\",\n            ELLIPSOID[\"WGS 84\",6378137,298.257223563,\n                LENGTHUNIT[\"metre\",1]]],\n        PRIMEM[\"Greenwich\",0,\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n        ID[\"EPSG\",4326]],\n    CONVERSION[\"UTM zone 18S\",\n        METHOD[\"Transverse Mercator\",\n            ID[\"EPSG\",9807]],\n        PARAMETER[\"Latitude of natural origin\",0,\n            ANGLEUNIT[\"Degree\",0.0174532925199433],\n            ID[\"EPSG\",8801]],\n        PARAMETER[\"Longitude of natural origin\",-75,\n            ANGLEUNIT[\"Degree\",0.0174532925199433],\n            ID[\"EPSG\",8802]],\n        PARAMETER[\"Scale factor at natural origin\",0.9996,\n            SCALEUNIT[\"unity\",1],\n            ID[\"EPSG\",8805]],\n        PARAMETER[\"False easting\",500000,\n            LENGTHUNIT[\"metre\",1],\n            ID[\"EPSG\",8806]],\n        PARAMETER[\"False northing\",10000000,\n            LENGTHUNIT[\"metre\",1],\n            ID[\"EPSG\",8807]]],\n    CS[Cartesian,2],\n        AXIS[\"(E)\",east,\n            ORDER[1],\n            LENGTHUNIT[\"metre\",1]],\n        AXIS[\"(N)\",north,\n            ORDER[2],\n            LENGTHUNIT[\"metre\",1]],\n    ID[\"EPSG\",32718]]",
    "crumbs": [
      "DATOS VECTORIALES",
      "Libreria SF"
    ]
  },
  {
    "objectID": "3_Creacion_objetos_SF.html",
    "href": "3_Creacion_objetos_SF.html",
    "title": "Creación de objetos SF",
    "section": "",
    "text": "Según la figura superior para crear un objeto SF se realiza lo siguiente:\nImportación de librerias\nlibrary(sf)\nlibrary(tidyverse)\nImportación de un polígono de referencia\npoligonos &lt;- read_sf('DATA/Poligonos.shp')\ntriangulo &lt;- poligonos[1,]\nggplot() + \n  geom_sf(data = triangulo)\nLas coordenadas de sus vértices son:\nst_geometry(triangulo)[[1]][[1]]\n\n         [,1]    [,2]\n[1,] 677159.6 8470790\n[2,] 678593.3 8473273\n[3,] 680027.0 8470790\n[4,] 677159.6 8470790",
    "crumbs": [
      "DATOS VECTORIALES",
      "Creación de objetos SF"
    ]
  },
  {
    "objectID": "3_Creacion_objetos_SF.html#elemento-punto",
    "href": "3_Creacion_objetos_SF.html#elemento-punto",
    "title": "Creación de objetos SF",
    "section": "1. Elemento Punto",
    "text": "1. Elemento Punto\na. Convertir coordendas a un objetos SFG\nST_POINT\n\n# Coordenadas escogidas al azar\np1 &lt;- c(678000, 8471000)\np2 &lt;- c(679500, 8470500)\np3 &lt;- c(679000, 8472000)\np4 &lt;- c(677500, 8472000)\np5 &lt;- c(678000, 8473000)\np6 &lt;- c(679000, 8473000)\np7 &lt;- c(678500, 8472500)\n\n# Conversion a objetos SFG\np1_sfg &lt;- st_point(p1)\np2_sfg &lt;- st_point(p2)\np3_sfg &lt;- st_point(p3)\np4_sfg &lt;- st_point(p4)\np5_sfg &lt;- st_point(p5)\np6_sfg &lt;- st_point(p6)\np7_sfg &lt;- st_point(p7)\n\np3_sfg\n\n\nclass(p3_sfg)\n\n[1] \"XY\"    \"POINT\" \"sfg\"  \n\n\nb. Convertir el SFG a un objeto SFC\nST_SFC\n\nptos_sfc &lt;- st_sfc(p1_sfg, p2_sfg, p3_sfg, p4_sfg, p5_sfg, p6_sfg, p7_sfg)\nptos_sfc\n\nGeometry set for 7 features \nGeometry type: POINT\nDimension:     XY\nBounding box:  xmin: 677500 ymin: 8470500 xmax: 679500 ymax: 8473000\nCRS:           NA\nFirst 5 geometries:\n\n\n\nclass(ptos_sfc)\n\n[1] \"sfc_POINT\" \"sfc\"      \n\n\nc. Asignar un CRS al objeto SFC\nST_SET_CRS\n\nptos_sfc &lt;- st_set_crs(ptos_sfc, \"EPSG:32718\")\nptos_sfc\n\nGeometry set for 7 features \nGeometry type: POINT\nDimension:     XY\nBounding box:  xmin: 677500 ymin: 8470500 xmax: 679500 ymax: 8473000\nProjected CRS: WGS 84 / UTM zone 18S\nFirst 5 geometries:\n\n\n\nclass(ptos_sfc)\n\n[1] \"sfc_POINT\" \"sfc\"      \n\n\nd. Crear un dataframe para los elementos del objeto SFC\n\nptos_df &lt;- data.frame(Id = c(1, 2, 3, 4, 5, 6, 7),\n                      Objeto = c(\"Punto 1\", \"Punto 2\", \"Punto 3\", \"Punto 4\",\n                                 \"Punto 5\", \"Punto 6\", \"Punto 7\"))\nptos_df\n\n  Id  Objeto\n1  1 Punto 1\n2  2 Punto 2\n3  3 Punto 3\n4  4 Punto 4\n5  5 Punto 5\n6  6 Punto 6\n7  7 Punto 7\n\n\n\nclass(ptos_df)\n\n[1] \"data.frame\"\n\n\ne. Crear un objeto SF con el SFC y el dataframe\n\nptos_sf &lt;- st_sf(ptos_df, ptos_sfc)\nptos_sf\n\nSimple feature collection with 7 features and 2 fields\nGeometry type: POINT\nDimension:     XY\nBounding box:  xmin: 677500 ymin: 8470500 xmax: 679500 ymax: 8473000\nProjected CRS: WGS 84 / UTM zone 18S\n  Id  Objeto               ptos_sfc\n1  1 Punto 1 POINT (678000 8471000)\n2  2 Punto 2 POINT (679500 8470500)\n3  3 Punto 3 POINT (679000 8472000)\n4  4 Punto 4 POINT (677500 8472000)\n5  5 Punto 5 POINT (678000 8473000)\n6  6 Punto 6 POINT (679000 8473000)\n7  7 Punto 7 POINT (678500 8472500)\n\n\n\nclass(ptos_sf)\n\n[1] \"sf\"         \"data.frame\"\n\n\nGráfica\n\nggplot() +\n  geom_sf(data = triangulo) +\n  geom_sf(data = ptos_sf, color = \"red\") +\n  geom_text(data = ptos_df,\n            aes(x = c(st_coordinates(ptos_sf)[,1]),\n                y = c(st_coordinates(ptos_sf)[,2])+80,\n                label = Objeto),\n            size = 2.5) +\n  theme(axis.title = element_blank())",
    "crumbs": [
      "DATOS VECTORIALES",
      "Creación de objetos SF"
    ]
  },
  {
    "objectID": "3_Creacion_objetos_SF.html#elemento-línea",
    "href": "3_Creacion_objetos_SF.html#elemento-línea",
    "title": "Creación de objetos SF",
    "section": "2. Elemento Línea",
    "text": "2. Elemento Línea\na. Convertir coordendas a un objetos SFG\nST_LINE\n\n# Coordenadas escogidas al azar\np1 &lt;- c(678000, 8471000)\np2 &lt;- c(679500, 8470500)\np3 &lt;- c(679000, 8472000)\np4 &lt;- c(677500, 8472000)\np5 &lt;- c(678000, 8473000)\np6 &lt;- c(679000, 8473000)\np7 &lt;- c(678500, 8472500)\n\n# Conversion a objetos SFG\nline1_sfg &lt;- st_linestring(rbind(p1, p2, p3, p1))\nline2_sfg &lt;- st_linestring(rbind(p4, p5, p6, p7))\n\nline1_sfg\n\n\nclass(line1_sfg)\n\n[1] \"XY\"         \"LINESTRING\" \"sfg\"       \n\n\nb. Convertir el SFG a un objeto SFC\nST_SFC\n\nline_sfc &lt;- st_sfc(line1_sfg, line2_sfg)\nline_sfc\n\nGeometry set for 2 features \nGeometry type: LINESTRING\nDimension:     XY\nBounding box:  xmin: 677500 ymin: 8470500 xmax: 679500 ymax: 8473000\nCRS:           NA\n\n\n\nclass(line_sfc)\n\n[1] \"sfc_LINESTRING\" \"sfc\"           \n\n\nc. Asignar un CRS al objeto SFC\nST_SET_CRS\n\nline_sfc &lt;- st_set_crs(line_sfc, \"EPSG:32718\")\nline_sfc\n\nGeometry set for 2 features \nGeometry type: LINESTRING\nDimension:     XY\nBounding box:  xmin: 677500 ymin: 8470500 xmax: 679500 ymax: 8473000\nProjected CRS: WGS 84 / UTM zone 18S\n\n\n\nclass(line_sfc)\n\n[1] \"sfc_LINESTRING\" \"sfc\"           \n\n\nd. Crear un dataframe para los elementos del objeto SFC\n\nline_df &lt;- data.frame(Id = c(1, 2),\n                      Objeto = c(\"Linea 1\", \"Linea 2\"))\nline_df\n\n  Id  Objeto\n1  1 Linea 1\n2  2 Linea 2\n\n\n\nclass(line_df)\n\n[1] \"data.frame\"\n\n\ne. Crear un objeto SF con el SFC y el dataframe\n\nline_sf &lt;- st_sf(line_df, line_sfc)\nline_sf\n\nSimple feature collection with 2 features and 2 fields\nGeometry type: LINESTRING\nDimension:     XY\nBounding box:  xmin: 677500 ymin: 8470500 xmax: 679500 ymax: 8473000\nProjected CRS: WGS 84 / UTM zone 18S\n  Id  Objeto                       line_sfc\n1  1 Linea 1 LINESTRING (678000 8471000,...\n2  2 Linea 2 LINESTRING (677500 8472000,...\n\n\n\nclass(line_sf)\n\n[1] \"sf\"         \"data.frame\"\n\n\nGráfica\n\nggplot() +\n  geom_sf(data = triangulo) +\n  geom_sf(data = line_sf, color = \"red\") +\n  geom_text(data = line_df,\n            aes(x = st_coordinates(st_centroid(line_sf))[,1],\n                y = st_coordinates(st_centroid(line_sf))[,2],\n                label = Objeto),\n            size = 3) +\n  theme(axis.title = element_blank())",
    "crumbs": [
      "DATOS VECTORIALES",
      "Creación de objetos SF"
    ]
  },
  {
    "objectID": "3_Creacion_objetos_SF.html#elemento-polígono",
    "href": "3_Creacion_objetos_SF.html#elemento-polígono",
    "title": "Creación de objetos SF",
    "section": "3. Elemento Polígono",
    "text": "3. Elemento Polígono\na. Convertir coordendas a un objetos SFG\nST_LINE\n\n# Coordenadas escogidas al azar\np1 &lt;- c(678000, 8471000)\np2 &lt;- c(679500, 8470500)\np3 &lt;- c(679000, 8472000)\np4 &lt;- c(677500, 8472000)\np5 &lt;- c(678000, 8473000)\np6 &lt;- c(679000, 8473000)\np7 &lt;- c(678500, 8472500)\n\n# Conversion a objetos SFG\npoly1 &lt;- st_polygon(list(rbind(p1, p2, p3, p1)))\npoly2 &lt;- st_polygon(list(rbind(p4, p5, p6, p7, p4)))\n\npoly_sfg &lt;- st_multipolygon(list(poly1, poly2))\n\npoly_sfg\n\n\nclass(poly_sfg)\n\n[1] \"XY\"           \"MULTIPOLYGON\" \"sfg\"         \n\n\nb. Convertir el SFG a un objeto SFC\nST_SFC\n\npoly_sfc &lt;- st_sfc(poly1, poly2)\npoly_sfc\n\nGeometry set for 2 features \nGeometry type: POLYGON\nDimension:     XY\nBounding box:  xmin: 677500 ymin: 8470500 xmax: 679500 ymax: 8473000\nCRS:           NA\n\n\n\nclass(poly_sfc)\n\n[1] \"sfc_POLYGON\" \"sfc\"        \n\n\nc. Asignar un CRS al objeto SFC\nST_SET_CRS\n\npoly_sfc &lt;- st_set_crs(poly_sfc, \"EPSG:32718\")\npoly_sfc\n\nGeometry set for 2 features \nGeometry type: POLYGON\nDimension:     XY\nBounding box:  xmin: 677500 ymin: 8470500 xmax: 679500 ymax: 8473000\nProjected CRS: WGS 84 / UTM zone 18S\n\n\n\nclass(poly_sfc)\n\n[1] \"sfc_POLYGON\" \"sfc\"        \n\n\nd. Crear un dataframe para los elementos del objeto SFC\n\npoly_df &lt;- data.frame(Id = c(1, 2),\n                      Objeto = c(\"Poligono 1\", \"Poligono 2\"))\npoly_df\n\n  Id     Objeto\n1  1 Poligono 1\n2  2 Poligono 2\n\n\n\nclass(poly_df)\n\n[1] \"data.frame\"\n\n\ne. Crear un objeto SF con el SFC y el dataframe\n\npoly_sf &lt;- st_sf(poly_df, poly_sfc)\npoly_sf\n\nSimple feature collection with 2 features and 2 fields\nGeometry type: POLYGON\nDimension:     XY\nBounding box:  xmin: 677500 ymin: 8470500 xmax: 679500 ymax: 8473000\nProjected CRS: WGS 84 / UTM zone 18S\n  Id     Objeto                       poly_sfc\n1  1 Poligono 1 POLYGON ((678000 8471000, 6...\n2  2 Poligono 2 POLYGON ((677500 8472000, 6...\n\n\n\nclass(poly_df)\n\n[1] \"data.frame\"\n\n\nGráfica\n\nggplot() +\n  geom_sf(data = triangulo) +\n  geom_sf(data = poly_sf, color = \"red\") +\n  geom_text(data = poly_df,\n            aes(x = st_coordinates(st_centroid(poly_sf))[,1],\n                y = st_coordinates(st_centroid(poly_sf))[,2],\n                label = Objeto),\n            size = 3) +\n  theme(axis.title = element_blank())",
    "crumbs": [
      "DATOS VECTORIALES",
      "Creación de objetos SF"
    ]
  }
]